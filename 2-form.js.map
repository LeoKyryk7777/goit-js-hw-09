{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(`.feedback-form`)\nform.addEventListener(`input`, e => {\n    const email = form.elements.email.value;\n    const message = form.elements.message.value;\n    const formData = { email, message };\n    saveToLS(\"feedback-form-state\", formData) \n});\n\nfunction initPage() {\n    const data = loadFromLS(\"feedback-form-state\");\n    if (data) {\n        form.elements.email.value = data.email || '';\n        form.elements.message.value = data.message || '';\n    }\n}\ninitPage();\n\nform.addEventListener(`submit`, e => {\n    e.preventDefault();\n    const email = e.currentTarget.elements.email.value.trim();\n    const message = e.currentTarget.elements.message.value.trim();\n    if (!email || !message) {\n        alert('Fill please all fields');\n        return;\n    };\n    const formData = { email, message };\n    console.log(formData);\n    e.target.reset();\n    localStorage.removeItem(\"feedback-form-state\");\n});\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value)\n    localStorage.setItem(key, jsonData) \n};\n\nfunction loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n        return body ? JSON.parse(body) : null;\n    } catch {\n        return null;\n    }   \n};"],"names":["form","email","message","saveToLS","initPage","data","loadFromLS","key","value","jsonData","body"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACpDA,EAAK,iBAAiB,QAAS,GAAK,CAChC,MAAMC,EAAQD,EAAK,SAAS,MAAM,MAC5BE,EAAUF,EAAK,SAAS,QAAQ,MAEtCG,EAAS,sBADQ,CAAE,MAAAF,EAAO,QAAAC,CAAS,CACK,CAC5C,CAAC,EAED,SAASE,GAAW,CAChB,MAAMC,EAAOC,EAAW,qBAAqB,EACzCD,IACAL,EAAK,SAAS,MAAM,MAAQK,EAAK,OAAS,GAC1CL,EAAK,SAAS,QAAQ,MAAQK,EAAK,SAAW,GAEtD,CACAD,EAAU,EAEVJ,EAAK,iBAAiB,SAAU,GAAK,CACjC,EAAE,eAAgB,EAClB,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,KAAM,EACnDC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,KAAM,EAC7D,GAAI,CAACD,GAAS,CAACC,EAAS,CACpB,MAAM,wBAAwB,EAC9B,MAER,CACI,QAAQ,IADS,CAAE,MAAAD,EAAO,QAAAC,CAAS,CACf,EACpB,EAAE,OAAO,MAAO,EAChB,aAAa,WAAW,qBAAqB,CACjD,CAAC,EAED,SAASC,EAASI,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASH,EAAWC,EAAK,CACrB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CACA,OAAOG,EAAO,KAAK,MAAMA,CAAI,EAAI,IACzC,MAAY,CACJ,OAAO,IACV,CACL"}